<div class="TransUnit TransUnit--{{ transUnitCtrl.savingStatus.CSSCLASS || phrase.status.CSSCLASS }}"
  ng-click="transUnitCtrl.selectTransUnit(phrase)"
  ng-class="{'is-focused': transUnitCtrl.selected, 'is-first': firstPhrase}">

  <ng-include src="'components/transUnit/trans-unit-status.html'"></ng-include>

  <div class="TransUnit-panel TransUnit-source">
    <ng-include src="'components/transUnit/source/header.html'" ng-if="transUnitCtrl.selected"></ng-include>

    <div class="TransUnit-item" ng-repeat="(key, source) in ::phrase.sources">
      <div ng-if="phrase.plural" class="TransUnit-itemHeader">
        <span class="u-textMeta" ng-if="$first" translate>Singular Form</span>
        <span class="u-textMeta" ng-if="!$first" translate>Plural Form</span>
        <ul class="u-floatRight u-listHorizontal" ng-if="transUnitCtrl.selected">
          <li>
            <button class="u-floatRight Link Link--neutral u-sizeHeight-1 u-sizeWidth-1 u-textCenter"
              title="Copy {{::editorContext.srcLocale.name}} ({{::editorContext.srcLocale.localeId}})"
              ng-click="transUnitCtrl.copySource($event, phrase, key)">
              <icon name="copy" class="Icon--sm" title="Copy {{::editorContext.srcLocale.name}} ({{::editorContext.srcLocale.localeId}})"></icon>
            </button>
          </li>
        </ul>
      </div>
      <pre class="TransUnit-text" render-whitespace-characters ng-bind="::source"></pre>
    </div>
    <ng-include src="'components/transUnit/source/footer.html'" ng-if="transUnitCtrl.selected"></ng-include>
  </div>

  <div class="TransUnit-panel TransUnit-translation">
    <ng-include src="'components/transUnit/translation/header.html'" ng-if="transUnitCtrl.selected"></ng-include>
    <div class="TransUnit-item" ng-repeat="newTranslation in phrase.newTranslations track by $index">
      <div class="TransUnit-itemHeader" ng-if=" phrase.plural">
        <span class="u-textMeta" ng-if="$first" translate>Singular Form</span>
        <span class="u-textMeta" ng-if="!$first" translate>Plural Form</span>
      </div>
      <textarea msd-elastic
        ng-change="transUnitCtrl.translationTextModified(phrase)"
        ng-model="phrase.newTranslations[$index]" class="TransUnit-text" rows="1"
        ng-trim="false"
        focus-on="phrase-{{phrase.id}}-{{$index}}"
        ng-focus="transUnitCtrl.onTextAreaFocus(phrase, $index)"
        ng-blur="transUnitCtrl.focused = false"
        blur-on="phrase-{{phrase.id}}"
        placeholder="{{::'Enter a translationâ€¦'|translate}}">
      </textarea>
    </div>
    <ng-include src="'components/transUnit/translation/footer.html'" ng-if="transUnitCtrl.selected"></ng-include>
  </div>

</div>
